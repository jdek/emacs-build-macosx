--- a/lisp/startup.el	2019-04-24 17:38:31.000000000 +0200
+++ b/lisp/startup.el	2019-04-24 20:32:10.000000000 +0200
@@ -1330,8 +1330,10 @@
      (lambda ()
        (expand-file-name
         "init"
-        (file-name-as-directory
-         (concat "~" init-file-user "/.emacs.d"))))
+        ;; First try `user-emacs-directory'
+        (or user-emacs-directory
+            (file-name-as-directory
+             (concat "~" init-file-user "/.emacs.d")))))
      (not inhibit-default-init))

     (when (and deactivate-mark transient-mark-mode)
     
